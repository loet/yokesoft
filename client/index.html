<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no"/>
    <link rel="stylesheet" href="bower_components/angular-material/angular-material.css">
</head>
<body ng-app="YourApp">

<div ng-controller="AppCtrl" layout="column" style="height:100%;">
    <section layout="row" flex>
        <md-sidenav class="md-sidenav-left md-whiteframe-z2" md-component-id="left"
                    md-is-locked-open="$mdMedia('gt-md')">
            <md-toolbar class="md-theme-indigo">
                <h1 class="md-toolbar-tools">Yokesoft</h1>
            </md-toolbar>
            <md-content layout-padding ng-controller="LeftCtrl">
                <md-button ng-click="close()" class="md-primary" hide-gt-md>
                    Close Sidenav Left
                </md-button>
                <p hide-md show-gt-md>
                    This sidenav is locked open on your device. To go back to the default behavior,
                    narrow your display.
                </p>
            </md-content>
        </md-sidenav>
        <div flex>

            <md-toolbar class="md-theme-indigo">
                <div class="md-toolbar-tools">
                    <md-button class="md-icon-button" aria-label="Menu" ng-click="toggleLeft()" hide-gt-md>
                        <md-icon md-svg-icon="img/menu.svg"></md-icon>
                    </md-button>
                    <h2>
                        <span>Personen</span>
                    </h2>
                    <span flex></span>

                </div>
            </md-toolbar>

            <md-content>
                <md-list ng-controller="PersonListCtrl">
                    <!--<md-subheader class="md-no-sticky">Persons</md-subheader>-->
                    <md-list-item class="md-3-line" ng-repeat="person in persons"
                                  ng-click="navigateTo('Person details of '+person.email, $event)">
                        <img ng-src="img/cat.jpeg" class="md-avatar" alt="{{person.email}}"/>

                        <div class="md-list-item-text">
                            <h3>{{ person.email }}</h3>
                            <h4>{{ person.firstname }} {{person.lastname}}</h4>

                            <p>{{ person.savedAt }}</p>
                        </div>
                        <md-divider inset></md-divider>
                    </md-list-item>
                </md-list>


                <div>
                    <md-button ng-click="toggleLeft()"
                               class="md-primary" hide-gt-md>
                        Toggle left
                    </md-button>
                </div>
                <div>
                    <md-button ng-click="toggleRight()"
                               class="md-primary">
                        Toggle right
                    </md-button>
                </div>
            </md-content>
            <div flex></div>
        </div>
        <md-sidenav class="md-sidenav-right md-whiteframe-z2" md-component-id="right">
            <md-toolbar class="md-theme-light">
                <h1 class="md-toolbar-tools">Sidenav Right</h1>
            </md-toolbar>
            <md-content ng-controller="RightCtrl" layout-padding>
                <form>
                    <md-input-container>
                        <label for="testInput">Test input</label>
                        <input type="text" id="testInput"
                               ng-model="data" md-sidenav-focus>
                    </md-input-container>
                </form>
                <md-button ng-click="close()" class="md-primary">
                    Close Sidenav Right
                </md-button>
            </md-content>
        </md-sidenav>
    </section>
</div>

<script src="bower_components/angular/angular.js"></script>
<script src="bower_components/angular-aria/angular-aria.js"></script>
<script src="bower_components/angular-animate/angular-animate.js"></script>
<script src="bower_components/angular-material/angular-material.js"></script>
<script>

    // Include app dependency on ngMaterial

    angular.module('YourApp', ['ngMaterial'])
            .controller('AppCtrl', function ($scope, $timeout, $mdSidenav, $mdUtil, $log) {
                $scope.toggleLeft = buildToggler('left');
                $scope.toggleRight = buildToggler('right');
                /**
                 * Build handler to open/close a SideNav; when animation finishes
                 * report completion in console
                 */
                function buildToggler(navID) {
                    var debounceFn = $mdUtil.debounce(function () {
                        $mdSidenav(navID)
                                .toggle()
                                .then(function () {
                                    $log.debug("toggle " + navID + " is done");
                                });
                    }, 300);
                    return debounceFn;
                }
            })
            .controller('LeftCtrl', function ($scope, $timeout, $mdSidenav, $log) {
                $scope.close = function () {
                    $mdSidenav('left').close()
                            .then(function () {
                                $log.debug("close LEFT is done");
                            });
                };
            })
            .controller('RightCtrl', function ($scope, $timeout, $mdSidenav, $log) {
                $scope.close = function () {
                    $mdSidenav('right').close()
                            .then(function () {
                                $log.debug("close RIGHT is done");
                            });
                };
            })
            .controller('PersonListCtrl', function ($scope, $mdDialog, $http) {

                $scope.persons = [];
                $scope.persons.push({
                    email: 'loet@swissonline.ch',
                    firstname: 'Ueli',
                    lastname: 'Loetscher',
                    savedAt: new Date(1438351824624)
                });
                $scope.persons.push({
                    email: 'rado@swissonline.ch',
                    firstname: 'Rado',
                    lastname: 'Smar',
                    savedAt: new Date(1438351824628)
                });


                $scope.navigateTo = function (to, event) {
                    $mdDialog.show(
                            $mdDialog.alert()
                                    .title('Navigating')
                                    .content('Imagine being taken to ' + to)
                                    .ariaLabel('Navigation demo')
                                    .ok('Neat!')
                                    .targetEvent(event)
                    );
                };
            });

</script>

</body>
</html>